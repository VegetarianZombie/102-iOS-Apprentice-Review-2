# iOS Apprentice Review 2 Part 2: Demo Instructions
## Part 1: Creating the ModelIn this demo, you will convert the Story Time app to use to use MVC as well as create additional view controllers###Step 1: Create the Story File###With the project StoryTime project open, select **File / Swift File**. Give it the name **Story.swift**
###Step 2: Define the Story types###At the top of the file, add the following code to designate the two types of stories. Place this at the top of the file
    enum StoryType {       case zombies, vampires
    }###Step 3: Create the Story class###
Create the class to contain the story object.     class Story {      var title : String      var name : String?      var verb : String?      var number : Int?      var winStory: String?      var loseStory: String?      var type: StoryType    }
###Step 4: Add the initializer###Add `init()` just underneath all of the properties. Compiler errors, begone!
    init(title: String, winStory:String, loseStory: String, type: StoryType) {      self.title = title      self.winStory = winStory      self.loseStory = loseStory      self.type = type    }###Step 5: Add Helper Methods###In the project, open the file named: **codex.txt**. Copy both `generateStory(monstersWin:) ` and `replaceText(text:,withText:,inString:)` into the `Story` class.##Part 2: Updating the View##With the model set up, it’s time to update the view to add an additional view controller to list all the stories###Step 1: Add a New View Controller###
In your view controller, open **Main.Storyboard**. In your **Object Library**, find a View Controller and drag it onto the scene.###Step 2: Add a Table View onto the Controller###
While you can always use a Table View Controller to do the same thing, it’s just as important to understand how to configure Table Views. 
Drag a Table View from the Object Library onto your new View Controller.###Step 3: Add the Constraints###
Select the **Table View**, then click the **Pin** button. Make sure to uncheck **“Constrain to margins”** and select all the neighboring constraints. Set them to **0**.###Step 4: Add a Cell###From the Object Library, drag a Table View Cell into the Table View. ###Step 5: Configure the Cell and Table View###
Select the cell. In the Attributes Inspector, search for the Identifier field. Provide the name: **“StoryTimeCell”**.Next, select the Table View and in the Attributes Inspector, set the style to be **Grouped**.###Step 6: Create the View Controller Class###
From the menu, select **File / New*. Under iOS, select **Source**. Choose **Cocoa Touch Class**, click **Next**. Name the file **“StorySelectionViewController”**. Make it a subclass of **UIViewController**. Click **Next**, then **Create**.
Open **StorySelectionViewController.swift**, and change the class definition to look like the following:    
    class StorySelectionViewController: UIViewController, UITableViewDataSource, UITableViewDelegate {###Step 7: Provide an Identity###
Return back to your storyboard. Select your new View Controller, and select the Identity Inspector. From the class dropdown, select **StorySelectionViewController**.###Step 8: Setup the Delegate and the Data Source###
Finally, setup your delegate and data source by right clicking or control clicking the Table View. From the dialog pop-up, first drag the **dataSource** to the owning **View Controller**. Next, do the same to **delegate** and the **dataSource**. ###Step 9: Create an outlet for the Table View###
Select the **Table View**, open the **Assistant Editor**, and control drag to the code to create a new **IBOutlet**. Name the new outlet: **tableView**.##Part 3: MVC Realized##At this point, you have a view to show your data, a model to contain your data, and a controller to manage the both of them. In this following section, you will put them all together.###Step 1: Setting up the Model###
At this point, you will create two arrays to store the model objects. Typically, you would use just one array, but for this demonstration, you will use two of them to understand how tableViews work in practice.Open **StorySelectionViewController.swift**. At the top of the class, just underneath the newly created IBOutlet, add the following:    var zombieStories: [Story]!    var vampireStories: [Story]!###Step 2: Creating the Model Objects###
At the following inside of `viewDidLoad()`:    override func viewDidLoad() {      super.viewDidLoad()      zombieStories = [Story]()      vampireStories = [Story]()      title = "Story Time!"    }
Next, open **code.txt**, and copy the code for **StorySelectionViewController.swift** and paste it under the previous code in `viewDidLoad()`.This code actually creates each individual story.
Finally, add this bit of code underneath the pasted code:
    zombieStories.append(zombieStory)    vampireStories.append(vampireStory)###Step 3: Setting up the Table View###
First, set the amount of sections.
    func numberOfSectionsInTableView(tableView: UITableView) -> Int {      return 2    }
Second, let the table how many rows for each section.
    func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int {        switch(section)  {            case 0:                return zombieStories.count            case 1:                return vampireStories.count            default:                return 0       }    }Third, give each of the sections a title.
    func tableView(tableView: UITableView, titleForHeaderInSection section: Int) -> String? {      if section == 0 {        return "Zombie Stories"      }      return "Vampire Stories"    }
Finally, create the cells.
    func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell {           let cell = tableView.dequeueReusableCellWithIdentifier("StoryTimeCell", forIndexPath: indexPath) as UITableViewCell        var story: Story!        if indexPath.section == 0 {            story = zombieStories[indexPath.row] as Story        } else {            story = vampireStories[indexPath.row] as Story        }        cell.textLabel?.text = story.title        return cell    }##Part 4: Putting It All Together##Now that your new view controller is completed, it’s time to put them all together.###Step 1: Reconfiguring the Storyboard###First, control click the cell and drag over to the existing View Controller.Select **Show** from the list of options.Next, select the newly created segue, and in the Attributes Inspector, give it the Identifier: **GenerateStory**.Set your new View Controller to be the initial View Controller by dragging the Storyboard Entry Point (the arrow) to your View Controller.Lastly, select the **StorySelectionViewController** and from the menu, select **Editor / Embed In / Navigation Controller**. Your storyboard should look like the following:###Step 2: Setup the Existing View Controller to Use Your Model###Open **ViewController.swift** and look for all the comments that say the following:    // UNCOMMENT OUT CODEUncomment all those blocks of code.###Step 3: Pass the Data between your View Controllers###
Finally, pass the Story object between View Controllers. Open **StorySelectionViewController.swift** and add the following code.
    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {        if segue.identifier == "GenerateStory" {            if let indexPath = tableView.indexPathForSelectedRow() {                let storyViewController = segue.destinationViewController as ViewController                if indexPath.section == 0 {                    storyViewController.currentStory = zombieStories[indexPath.row] as Story                } else {                    storyViewController.currentStory = vampireStories[indexPath.row] as Story                }            }        }    }